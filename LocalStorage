<script>
  function registerUser(username, email, password) {
    let users = JSON.parse(localStorage.getItem('users')) || [];
    users.push({username, email, password});
    localStorage.setItem('users', JSON.stringify(users));
    alert('สมัครสมาชิกเรียบร้อย!');
  }

  function loginUser(usernameOrEmail, password) {
    let users = JSON.parse(localStorage.getItem('users')) || [];
    const user = users.find(u => (u.username === usernameOrEmail || u.email === usernameOrEmail) && u.password === password);
    if (user) {
      localStorage.setItem('currentUser', JSON.stringify(user));
      alert(`เข้าสู่ระบบเรียบร้อย! ยินดีต้อนรับ ${user.username}`);
      // สามารถ redirect ไปหน้า home.html ได้
      // window.location.href = 'home.html';
    } else {
      alert('ชื่อผู้ใช้/อีเมล หรือรหัสผ่านไม่ถูกต้อง');
    }
  }
</script>
<script>
  function addPost(username, content, imageUrl) {
    let posts = JSON.parse(localStorage.getItem('posts')) || [];
    const post = {
      username: username,
      content: content,
      imageUrl: imageUrl,
      date: new Date().toISOString()
    };
    posts.push(post);
    localStorage.setItem('posts', JSON.stringify(posts));
  }

  function getPosts() {
    return JSON.parse(localStorage.getItem('posts')) || [];
  }
</script>
